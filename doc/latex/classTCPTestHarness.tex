\hypertarget{classTCPTestHarness}{}\doxysection{T\+C\+P\+Test\+Harness类 参考}
\label{classTCPTestHarness}\index{TCPTestHarness@{TCPTestHarness}}


Test adapter for T\+C\+P\+Connection  




{\ttfamily \#include $<$tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+hh$>$}



T\+C\+P\+Test\+Harness 的协作图\+:
% FIG 0
\doxysubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classTCPTestHarness_adc9a7b18d3fa7c40eea57fd2d5d2fe50}\label{classTCPTestHarness_adc9a7b18d3fa7c40eea57fd2d5d2fe50}} 
using \mbox{\hyperlink{classTCPTestHarness_adc9a7b18d3fa7c40eea57fd2d5d2fe50}{State}} = T\+C\+P\+State\+::\+State
\begin{DoxyCompactList}\small\item\em T\+CP state names \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classTCPTestHarness_a2558ee1e47c27219f1c304156ebbe66b}\label{classTCPTestHarness_a2558ee1e47c27219f1c304156ebbe66b}} 
using \mbox{\hyperlink{classTCPTestHarness_a2558ee1e47c27219f1c304156ebbe66b}{Vec\+IterT}} = std\+::string\+::const\+\_\+iterator
\begin{DoxyCompactList}\small\item\em Alias for a const iterator to a vector of bytes \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classTCPTestHarness_ae5deb4ae3a35dc230456e51c3c749bf1}\label{classTCPTestHarness_ae5deb4ae3a35dc230456e51c3c749bf1}} 
\mbox{\hyperlink{classTCPTestHarness_ae5deb4ae3a35dc230456e51c3c749bf1}{T\+C\+P\+Test\+Harness}} (const T\+C\+P\+Config \&c\+\_\+fsm=\{\})
\begin{DoxyCompactList}\small\item\em Construct a test harness, optionally passing a configuration to the T\+C\+P\+Connection under test \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTCPTestHarness_a7d11746f61a3147671648b7489a78373}{send\+\_\+fin}} (const Wrapping\+Int32 seqno, const std\+::optional$<$ Wrapping\+Int32 $>$ ackno=\{\})
\begin{DoxyCompactList}\small\item\em construct a F\+IN segment and inject it into T\+C\+P\+Connection \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTCPTestHarness_a908763d9a18e86a8f6a8165b696a3866}{send\+\_\+ack}} (const Wrapping\+Int32 seqno, const Wrapping\+Int32 ackno, const std\+::optional$<$ uint16\+\_\+t $>$ swin=\{\})
\begin{DoxyCompactList}\small\item\em construct an A\+CK segment and inject it into T\+C\+P\+Connection \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTCPTestHarness_aaae4c4e2233373fbc85f313f4e156b7d}{send\+\_\+rst}} (const Wrapping\+Int32 seqno, const std\+::optional$<$ Wrapping\+Int32 $>$ ackno=\{\})
\begin{DoxyCompactList}\small\item\em construct a R\+ST segment and inject it into T\+C\+P\+Connection \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTCPTestHarness_ac90d80502a3db093e3f1904b0dd89ff0}{send\+\_\+syn}} (const Wrapping\+Int32 seqno, const std\+::optional$<$ Wrapping\+Int32 $>$ ackno=\{\})
\begin{DoxyCompactList}\small\item\em construct a S\+YN segment and inject it into T\+C\+P\+Connection \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTCPTestHarness_a322a1d10c9ef803061bdef7109cb2006}{send\+\_\+byte}} (const Wrapping\+Int32 seqno, const std\+::optional$<$ Wrapping\+Int32 $>$ ackno, const uint8\+\_\+t val)
\begin{DoxyCompactList}\small\item\em construct a segment containing one byte and inject it into T\+C\+P\+Connection \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTCPTestHarness_a5426f9eed523b6364cf9a0f1bebe50ec}{send\+\_\+data}} (const Wrapping\+Int32 seqno, const Wrapping\+Int32 ackno, \mbox{\hyperlink{classTCPTestHarness_a2558ee1e47c27219f1c304156ebbe66b}{Vec\+IterT}} begin, \mbox{\hyperlink{classTCPTestHarness_a2558ee1e47c27219f1c304156ebbe66b}{Vec\+IterT}} end)
\begin{DoxyCompactList}\small\item\em construct a segment containing the specified payload and inject it into T\+C\+P\+Connection \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classTCPTestHarness_a80b69827e550890e372822fb2835c4e4}\label{classTCPTestHarness_a80b69827e550890e372822fb2835c4e4}} 
bool \mbox{\hyperlink{classTCPTestHarness_a80b69827e550890e372822fb2835c4e4}{can\+\_\+read}} () const
\begin{DoxyCompactList}\small\item\em is it possible to read from the \mbox{\hyperlink{classTestFdAdapter}{Test\+Fd\+Adapter}} (i.\+e., read a segment T\+C\+P\+Connection previously wrote)? \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTCPTestHarness_a50506739389063689876de9d402e3213}{execute}} (const \mbox{\hyperlink{structTCPTestStep}{T\+C\+P\+Test\+Step}} \&step, std\+::string note=\char`\"{}\char`\"{})
\begin{DoxyCompactList}\small\item\em execute one step in a test. \end{DoxyCompactList}\item 
T\+C\+P\+Segment \mbox{\hyperlink{classTCPTestHarness_a10121d170e37ffd755b1c624b5897653}{expect\+\_\+seg}} (const \mbox{\hyperlink{structExpectSegment}{Expect\+Segment}} \&expectation, std\+::string note=\char`\"{}\char`\"{})
\begin{DoxyCompactList}\small\item\em expect and read a segment \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} \mbox{\hyperlink{classTCPTestHarness_a9efb53d2e3b82b8047da05890037dd14}{in\+\_\+listen}} (const T\+C\+P\+Config \&cfg)
\begin{DoxyCompactList}\small\item\em Create an F\+SM in the \char`\"{}\+L\+I\+S\+T\+E\+N\char`\"{} state. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} \mbox{\hyperlink{classTCPTestHarness_af4ceca5078cc5c2df8d494aa80f07189}{in\+\_\+syn\+\_\+sent}} (const T\+C\+P\+Config \&cfg, const Wrapping\+Int32 tx\+\_\+isn=Wrapping\+Int32\{0\})
\begin{DoxyCompactList}\small\item\em Create an F\+SM which has sent a S\+YN. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} \mbox{\hyperlink{classTCPTestHarness_abdfadfd3e54f715c1a5eeea350b593ed}{in\+\_\+established}} (const T\+C\+P\+Config \&cfg, const Wrapping\+Int32 tx\+\_\+isn=Wrapping\+Int32\{0\}, const Wrapping\+Int32 rx\+\_\+isn=Wrapping\+Int32\{0\})
\begin{DoxyCompactList}\small\item\em Create an F\+SM with an established connection \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} \mbox{\hyperlink{classTCPTestHarness_a009d0b767cf6f934bfdda7fd76d403b2}{in\+\_\+close\+\_\+wait}} (const T\+C\+P\+Config \&cfg, const Wrapping\+Int32 tx\+\_\+isn=Wrapping\+Int32\{0\}, const Wrapping\+Int32 rx\+\_\+isn=Wrapping\+Int32\{0\})
\begin{DoxyCompactList}\small\item\em Create an F\+SM in C\+L\+O\+S\+E\+\_\+\+W\+A\+IT \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} \mbox{\hyperlink{classTCPTestHarness_a90553f7db8c3b6adddc92b4754f3fa3c}{in\+\_\+last\+\_\+ack}} (const T\+C\+P\+Config \&cfg, const Wrapping\+Int32 tx\+\_\+isn=Wrapping\+Int32\{0\}, const Wrapping\+Int32 rx\+\_\+isn=Wrapping\+Int32\{0\})
\begin{DoxyCompactList}\small\item\em Create an F\+SM in L\+A\+S\+T\+\_\+\+A\+CK \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} \mbox{\hyperlink{classTCPTestHarness_a6399be899fd83890da0e66799ae6af39}{in\+\_\+fin\+\_\+wait\+\_\+1}} (const T\+C\+P\+Config \&cfg, const Wrapping\+Int32 tx\+\_\+isn=Wrapping\+Int32\{0\}, const Wrapping\+Int32 rx\+\_\+isn=Wrapping\+Int32\{0\})
\begin{DoxyCompactList}\small\item\em Create an F\+SM in F\+I\+N\+\_\+\+W\+A\+I\+T\+\_\+1 \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} \mbox{\hyperlink{classTCPTestHarness_a37e86b14f3d1f1ccaab5e8c790c37d9d}{in\+\_\+fin\+\_\+wait\+\_\+2}} (const T\+C\+P\+Config \&cfg, const Wrapping\+Int32 tx\+\_\+isn=Wrapping\+Int32\{0\}, const Wrapping\+Int32 rx\+\_\+isn=Wrapping\+Int32\{0\})
\begin{DoxyCompactList}\small\item\em Create an F\+SM in F\+I\+N\+\_\+\+W\+A\+I\+T\+\_\+2 \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} \mbox{\hyperlink{classTCPTestHarness_aed2c67913e20a4939d22f98fc9eafed7}{in\+\_\+closing}} (const T\+C\+P\+Config \&cfg, const Wrapping\+Int32 tx\+\_\+isn=Wrapping\+Int32\{0\}, const Wrapping\+Int32 rx\+\_\+isn=Wrapping\+Int32\{0\})
\begin{DoxyCompactList}\small\item\em Create an F\+SM in C\+L\+O\+S\+I\+NG \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} \mbox{\hyperlink{classTCPTestHarness_a154f3d5ce37fc34e1420813b3aa4cb44}{in\+\_\+time\+\_\+wait}} (const T\+C\+P\+Config \&cfg, const Wrapping\+Int32 tx\+\_\+isn=Wrapping\+Int32\{0\}, const Wrapping\+Int32 rx\+\_\+isn=Wrapping\+Int32\{0\})
\begin{DoxyCompactList}\small\item\em Create an F\+SM in T\+I\+M\+E\+\_\+\+W\+A\+IT \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classTCPTestHarness_a283d6c63e5f99f96474580d53d8db4c7}\label{classTCPTestHarness_a283d6c63e5f99f96474580d53d8db4c7}} 
\mbox{\hyperlink{classTestFdAdapter}{Test\+Fd\+Adapter}} \mbox{\hyperlink{classTCPTestHarness_a283d6c63e5f99f96474580d53d8db4c7}{\+\_\+flt}} \{\}
\begin{DoxyCompactList}\small\item\em Fd\+Adapter mockup \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classTCPTestHarness_af203a65e1a5edec3c0b6df9074fcda0e}\label{classTCPTestHarness_af203a65e1a5edec3c0b6df9074fcda0e}} 
T\+C\+P\+Connection \mbox{\hyperlink{classTCPTestHarness_af203a65e1a5edec3c0b6df9074fcda0e}{\+\_\+fsm}}
\begin{DoxyCompactList}\small\item\em The T\+C\+P\+Connection under test \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classTCPTestHarness_a431562ffcd1c56ab3914d320182b6711}\label{classTCPTestHarness_a431562ffcd1c56ab3914d320182b6711}} 
std\+::vector$<$ std\+::string $>$ \mbox{\hyperlink{classTCPTestHarness_a431562ffcd1c56ab3914d320182b6711}{\+\_\+steps\+\_\+executed}} \{\}
\begin{DoxyCompactList}\small\item\em A list of test steps that passed \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
Test adapter for T\+C\+P\+Connection 

在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+hh 第 59 行定义.



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classTCPTestHarness_a50506739389063689876de9d402e3213}\label{classTCPTestHarness_a50506739389063689876de9d402e3213}} 
\index{TCPTestHarness@{TCPTestHarness}!execute@{execute}}
\index{execute@{execute}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily void T\+C\+P\+Test\+Harness\+::execute (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structTCPTestStep}{T\+C\+P\+Test\+Step}} \&}]{step,  }\item[{std\+::string}]{note = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



execute one step in a test. 


\begin{DoxyParams}{参数}
{\em step} & is a representation of the step. i.\+e. an action or expectation \\
\hline
{\em note} & is an (optional) string describing the significance of this step \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 144 行定义.

\mbox{\Hypertarget{classTCPTestHarness_a10121d170e37ffd755b1c624b5897653}\label{classTCPTestHarness_a10121d170e37ffd755b1c624b5897653}} 
\index{TCPTestHarness@{TCPTestHarness}!expect\_seg@{expect\_seg}}
\index{expect\_seg@{expect\_seg}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{expect\_seg()}{expect\_seg()}}
{\footnotesize\ttfamily T\+C\+P\+Segment T\+C\+P\+Test\+Harness\+::expect\+\_\+seg (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structExpectSegment}{Expect\+Segment}} \&}]{expectation,  }\item[{std\+::string}]{note = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



expect and read a segment 


\begin{DoxyParams}{参数}
{\em expectaion} & is a representation of the properties of the expected segment. \\
\hline
{\em note} & is an (optional) string describing the significance of this step \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 167 行定义.

\mbox{\Hypertarget{classTCPTestHarness_a009d0b767cf6f934bfdda7fd76d403b2}\label{classTCPTestHarness_a009d0b767cf6f934bfdda7fd76d403b2}} 
\index{TCPTestHarness@{TCPTestHarness}!in\_close\_wait@{in\_close\_wait}}
\index{in\_close\_wait@{in\_close\_wait}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{in\_close\_wait()}{in\_close\_wait()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} T\+C\+P\+Test\+Harness\+::in\+\_\+close\+\_\+wait (\begin{DoxyParamCaption}\item[{const T\+C\+P\+Config \&}]{cfg,  }\item[{const Wrapping\+Int32}]{tx\+\_\+isn = {\ttfamily WrappingInt32\{0\}},  }\item[{const Wrapping\+Int32}]{rx\+\_\+isn = {\ttfamily WrappingInt32\{0\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create an F\+SM in C\+L\+O\+S\+E\+\_\+\+W\+A\+IT 

S\+Y\+Ns have been traded, and then the machine received and A\+CK\textquotesingle{}d F\+IN. No payload was exchanged. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em tx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s outbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\mbox{\texttt{ in}}  & {\em rx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s inbound sequence. i.\+e. the seqno for the S\+YN.\\
\hline
\end{DoxyParams}
S\+Y\+Ns have been traded, and then the machine received and A\+CK\textquotesingle{}d F\+IN. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em tx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s outbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\mbox{\texttt{ in}}  & {\em rx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s inbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 224 行定义.

\mbox{\Hypertarget{classTCPTestHarness_aed2c67913e20a4939d22f98fc9eafed7}\label{classTCPTestHarness_aed2c67913e20a4939d22f98fc9eafed7}} 
\index{TCPTestHarness@{TCPTestHarness}!in\_closing@{in\_closing}}
\index{in\_closing@{in\_closing}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{in\_closing()}{in\_closing()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} T\+C\+P\+Test\+Harness\+::in\+\_\+closing (\begin{DoxyParamCaption}\item[{const T\+C\+P\+Config \&}]{cfg,  }\item[{const Wrapping\+Int32}]{tx\+\_\+isn = {\ttfamily WrappingInt32\{0\}},  }\item[{const Wrapping\+Int32}]{rx\+\_\+isn = {\ttfamily WrappingInt32\{0\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create an F\+SM in C\+L\+O\+S\+I\+NG 

S\+Y\+Ns have been traded, then the T\+CP sent F\+IN, then received F\+IN No payload was exchanged. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em tx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s outbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\mbox{\texttt{ in}}  & {\em rx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s inbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 288 行定义.

\mbox{\Hypertarget{classTCPTestHarness_abdfadfd3e54f715c1a5eeea350b593ed}\label{classTCPTestHarness_abdfadfd3e54f715c1a5eeea350b593ed}} 
\index{TCPTestHarness@{TCPTestHarness}!in\_established@{in\_established}}
\index{in\_established@{in\_established}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{in\_established()}{in\_established()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} T\+C\+P\+Test\+Harness\+::in\+\_\+established (\begin{DoxyParamCaption}\item[{const T\+C\+P\+Config \&}]{cfg,  }\item[{const Wrapping\+Int32}]{tx\+\_\+isn = {\ttfamily WrappingInt32\{0\}},  }\item[{const Wrapping\+Int32}]{rx\+\_\+isn = {\ttfamily WrappingInt32\{0\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create an F\+SM with an established connection 

The mahine has sent and received a S\+YN, and both S\+Y\+Ns have been A\+CK\textquotesingle{}d No payload was exchanged. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em tx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s outbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\mbox{\texttt{ in}}  & {\em rx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s inbound sequence. i.\+e. the seqno for the S\+YN.\\
\hline
\end{DoxyParams}
The mahine has sent and received a S\+YN, and both S\+Y\+Ns have been A\+CK\textquotesingle{}d 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em tx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s outbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\mbox{\texttt{ in}}  & {\em rx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s inbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 207 行定义.

\mbox{\Hypertarget{classTCPTestHarness_a6399be899fd83890da0e66799ae6af39}\label{classTCPTestHarness_a6399be899fd83890da0e66799ae6af39}} 
\index{TCPTestHarness@{TCPTestHarness}!in\_fin\_wait\_1@{in\_fin\_wait\_1}}
\index{in\_fin\_wait\_1@{in\_fin\_wait\_1}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{in\_fin\_wait\_1()}{in\_fin\_wait\_1()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} T\+C\+P\+Test\+Harness\+::in\+\_\+fin\+\_\+wait\+\_\+1 (\begin{DoxyParamCaption}\item[{const T\+C\+P\+Config \&}]{cfg,  }\item[{const Wrapping\+Int32}]{tx\+\_\+isn = {\ttfamily WrappingInt32\{0\}},  }\item[{const Wrapping\+Int32}]{rx\+\_\+isn = {\ttfamily WrappingInt32\{0\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create an F\+SM in F\+I\+N\+\_\+\+W\+A\+I\+T\+\_\+1 

Create an F\+SM in F\+I\+N\+\_\+\+W\+A\+IT

S\+Y\+Ns have been traded, then the T\+CP sent F\+IN. No payload was exchanged. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em tx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s outbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\mbox{\texttt{ in}}  & {\em rx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s inbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 256 行定义.

\mbox{\Hypertarget{classTCPTestHarness_a37e86b14f3d1f1ccaab5e8c790c37d9d}\label{classTCPTestHarness_a37e86b14f3d1f1ccaab5e8c790c37d9d}} 
\index{TCPTestHarness@{TCPTestHarness}!in\_fin\_wait\_2@{in\_fin\_wait\_2}}
\index{in\_fin\_wait\_2@{in\_fin\_wait\_2}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{in\_fin\_wait\_2()}{in\_fin\_wait\_2()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} T\+C\+P\+Test\+Harness\+::in\+\_\+fin\+\_\+wait\+\_\+2 (\begin{DoxyParamCaption}\item[{const T\+C\+P\+Config \&}]{cfg,  }\item[{const Wrapping\+Int32}]{tx\+\_\+isn = {\ttfamily WrappingInt32\{0\}},  }\item[{const Wrapping\+Int32}]{rx\+\_\+isn = {\ttfamily WrappingInt32\{0\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create an F\+SM in F\+I\+N\+\_\+\+W\+A\+I\+T\+\_\+2 

S\+Y\+Ns have been traded, then the T\+CP sent F\+IN. No payload was exchanged. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em tx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s outbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\mbox{\texttt{ in}}  & {\em rx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s inbound sequence. i.\+e. the seqno for the S\+YN.\\
\hline
\end{DoxyParams}
S\+Y\+Ns have been traded, then the T\+CP sent F\+IN, which was A\+CK\textquotesingle{}d No payload was exchanged. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em tx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s outbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\mbox{\texttt{ in}}  & {\em rx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s inbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 273 行定义.

\mbox{\Hypertarget{classTCPTestHarness_a90553f7db8c3b6adddc92b4754f3fa3c}\label{classTCPTestHarness_a90553f7db8c3b6adddc92b4754f3fa3c}} 
\index{TCPTestHarness@{TCPTestHarness}!in\_last\_ack@{in\_last\_ack}}
\index{in\_last\_ack@{in\_last\_ack}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{in\_last\_ack()}{in\_last\_ack()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} T\+C\+P\+Test\+Harness\+::in\+\_\+last\+\_\+ack (\begin{DoxyParamCaption}\item[{const T\+C\+P\+Config \&}]{cfg,  }\item[{const Wrapping\+Int32}]{tx\+\_\+isn = {\ttfamily WrappingInt32\{0\}},  }\item[{const Wrapping\+Int32}]{rx\+\_\+isn = {\ttfamily WrappingInt32\{0\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create an F\+SM in L\+A\+S\+T\+\_\+\+A\+CK 

S\+Y\+Ns have been traded, then the machine received and A\+CK\textquotesingle{}d F\+IN, and then it sent its own F\+IN. No payload was exchanged. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em tx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s outbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\mbox{\texttt{ in}}  & {\em rx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s inbound sequence. i.\+e. the seqno for the S\+YN.\\
\hline
\end{DoxyParams}
S\+Y\+Ns have been traded, then the machine received and A\+CK\textquotesingle{}d F\+IN, and then it sent its own F\+IN. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em tx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s outbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\mbox{\texttt{ in}}  & {\em rx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s inbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 239 行定义.

\mbox{\Hypertarget{classTCPTestHarness_a9efb53d2e3b82b8047da05890037dd14}\label{classTCPTestHarness_a9efb53d2e3b82b8047da05890037dd14}} 
\index{TCPTestHarness@{TCPTestHarness}!in\_listen@{in\_listen}}
\index{in\_listen@{in\_listen}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{in\_listen()}{in\_listen()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} T\+C\+P\+Test\+Harness\+::in\+\_\+listen (\begin{DoxyParamCaption}\item[{const T\+C\+P\+Config \&}]{cfg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create an F\+SM in the \char`\"{}\+L\+I\+S\+T\+E\+N\char`\"{} state. 

Create a F\+SM in the \char`\"{}\+L\+I\+S\+T\+E\+N\char`\"{} state. 

在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 182 行定义.

\mbox{\Hypertarget{classTCPTestHarness_af4ceca5078cc5c2df8d494aa80f07189}\label{classTCPTestHarness_af4ceca5078cc5c2df8d494aa80f07189}} 
\index{TCPTestHarness@{TCPTestHarness}!in\_syn\_sent@{in\_syn\_sent}}
\index{in\_syn\_sent@{in\_syn\_sent}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{in\_syn\_sent()}{in\_syn\_sent()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} T\+C\+P\+Test\+Harness\+::in\+\_\+syn\+\_\+sent (\begin{DoxyParamCaption}\item[{const T\+C\+P\+Config \&}]{cfg,  }\item[{const Wrapping\+Int32}]{tx\+\_\+isn = {\ttfamily WrappingInt32\{0\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create an F\+SM which has sent a S\+YN. 

The S\+YN has been consumed, but not A\+CK\textquotesingle{}d by the test harness 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em tx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s outbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 192 行定义.

\mbox{\Hypertarget{classTCPTestHarness_a154f3d5ce37fc34e1420813b3aa4cb44}\label{classTCPTestHarness_a154f3d5ce37fc34e1420813b3aa4cb44}} 
\index{TCPTestHarness@{TCPTestHarness}!in\_time\_wait@{in\_time\_wait}}
\index{in\_time\_wait@{in\_time\_wait}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{in\_time\_wait()}{in\_time\_wait()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTCPTestHarness}{T\+C\+P\+Test\+Harness}} T\+C\+P\+Test\+Harness\+::in\+\_\+time\+\_\+wait (\begin{DoxyParamCaption}\item[{const T\+C\+P\+Config \&}]{cfg,  }\item[{const Wrapping\+Int32}]{tx\+\_\+isn = {\ttfamily WrappingInt32\{0\}},  }\item[{const Wrapping\+Int32}]{rx\+\_\+isn = {\ttfamily WrappingInt32\{0\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create an F\+SM in T\+I\+M\+E\+\_\+\+W\+A\+IT 

S\+Y\+Ns have been traded, then the T\+CP sent F\+IN, then received F\+I\+N/\+A\+CK, and A\+CK\textquotesingle{}d. No payload was exchanged. 
\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em tx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s outbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\mbox{\texttt{ in}}  & {\em rx\+\_\+isn} & is the I\+SN of the F\+SM\textquotesingle{}s inbound sequence. i.\+e. the seqno for the S\+YN. \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 304 行定义.

\mbox{\Hypertarget{classTCPTestHarness_a908763d9a18e86a8f6a8165b696a3866}\label{classTCPTestHarness_a908763d9a18e86a8f6a8165b696a3866}} 
\index{TCPTestHarness@{TCPTestHarness}!send\_ack@{send\_ack}}
\index{send\_ack@{send\_ack}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{send\_ack()}{send\_ack()}}
{\footnotesize\ttfamily void T\+C\+P\+Test\+Harness\+::send\+\_\+ack (\begin{DoxyParamCaption}\item[{const Wrapping\+Int32}]{seqno,  }\item[{const Wrapping\+Int32}]{ackno,  }\item[{const std\+::optional$<$ uint16\+\_\+t $>$}]{swin = {\ttfamily \{\}} }\end{DoxyParamCaption})}



construct an A\+CK segment and inject it into T\+C\+P\+Connection 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em seqno} & is the sequence number of the segment \\
\hline
\mbox{\texttt{ in}}  & {\em ackno} & is the acknowledgment number of the segment \\
\hline
\mbox{\texttt{ in}}  & {\em swin} & is the optional window size for the segment; if no value, uses default value (137 bytes) \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 87 行定义.

\mbox{\Hypertarget{classTCPTestHarness_a322a1d10c9ef803061bdef7109cb2006}\label{classTCPTestHarness_a322a1d10c9ef803061bdef7109cb2006}} 
\index{TCPTestHarness@{TCPTestHarness}!send\_byte@{send\_byte}}
\index{send\_byte@{send\_byte}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{send\_byte()}{send\_byte()}}
{\footnotesize\ttfamily void T\+C\+P\+Test\+Harness\+::send\+\_\+byte (\begin{DoxyParamCaption}\item[{const Wrapping\+Int32}]{seqno,  }\item[{const std\+::optional$<$ Wrapping\+Int32 $>$}]{ackno,  }\item[{const uint8\+\_\+t}]{val }\end{DoxyParamCaption})}



construct a segment containing one byte and inject it into T\+C\+P\+Connection 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em seqno} & is the sequence number of the segment \\
\hline
\mbox{\texttt{ in}}  & {\em ackno} & is the optional acknowledgment number of the segment; if no value, A\+CK flag is not set \\
\hline
\mbox{\texttt{ in}}  & {\em val} & is the value of the one-\/byte payload \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 120 行定义.

\mbox{\Hypertarget{classTCPTestHarness_a5426f9eed523b6364cf9a0f1bebe50ec}\label{classTCPTestHarness_a5426f9eed523b6364cf9a0f1bebe50ec}} 
\index{TCPTestHarness@{TCPTestHarness}!send\_data@{send\_data}}
\index{send\_data@{send\_data}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{send\_data()}{send\_data()}}
{\footnotesize\ttfamily void T\+C\+P\+Test\+Harness\+::send\+\_\+data (\begin{DoxyParamCaption}\item[{const Wrapping\+Int32}]{seqno,  }\item[{const Wrapping\+Int32}]{ackno,  }\item[{\mbox{\hyperlink{classTCPTestHarness_a2558ee1e47c27219f1c304156ebbe66b}{Vec\+IterT}}}]{begin,  }\item[{\mbox{\hyperlink{classTCPTestHarness_a2558ee1e47c27219f1c304156ebbe66b}{Vec\+IterT}}}]{end }\end{DoxyParamCaption})}



construct a segment containing the specified payload and inject it into T\+C\+P\+Connection 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em seqno} & is the sequence number of the segment \\
\hline
\mbox{\texttt{ in}}  & {\em ackno} & is the acknowledgment number of the segment \\
\hline
\mbox{\texttt{ in}}  & {\em begin} & is an iterator to the start of the payload \\
\hline
\mbox{\texttt{ in}}  & {\em end} & is an iterator to the end of the payload \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 133 行定义.

\mbox{\Hypertarget{classTCPTestHarness_a7d11746f61a3147671648b7489a78373}\label{classTCPTestHarness_a7d11746f61a3147671648b7489a78373}} 
\index{TCPTestHarness@{TCPTestHarness}!send\_fin@{send\_fin}}
\index{send\_fin@{send\_fin}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{send\_fin()}{send\_fin()}}
{\footnotesize\ttfamily void T\+C\+P\+Test\+Harness\+::send\+\_\+fin (\begin{DoxyParamCaption}\item[{const Wrapping\+Int32}]{seqno,  }\item[{const std\+::optional$<$ Wrapping\+Int32 $>$}]{ackno = {\ttfamily \{\}} }\end{DoxyParamCaption})}



construct a F\+IN segment and inject it into T\+C\+P\+Connection 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em seqno} & is the sequence number of the segment \\
\hline
\mbox{\texttt{ in}}  & {\em ackno} & is the optional acknowledgment number of the segment; if no value, A\+CK flag is not set \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 75 行定义.

\mbox{\Hypertarget{classTCPTestHarness_aaae4c4e2233373fbc85f313f4e156b7d}\label{classTCPTestHarness_aaae4c4e2233373fbc85f313f4e156b7d}} 
\index{TCPTestHarness@{TCPTestHarness}!send\_rst@{send\_rst}}
\index{send\_rst@{send\_rst}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{send\_rst()}{send\_rst()}}
{\footnotesize\ttfamily void T\+C\+P\+Test\+Harness\+::send\+\_\+rst (\begin{DoxyParamCaption}\item[{const Wrapping\+Int32}]{seqno,  }\item[{const std\+::optional$<$ Wrapping\+Int32 $>$}]{ackno = {\ttfamily \{\}} }\end{DoxyParamCaption})}



construct a R\+ST segment and inject it into T\+C\+P\+Connection 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em seqno} & is the sequence number of the segment \\
\hline
\mbox{\texttt{ in}}  & {\em ackno} & is the optional acknowledgment number of the segment; if no value, A\+CK flag is not set \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 97 行定义.

\mbox{\Hypertarget{classTCPTestHarness_ac90d80502a3db093e3f1904b0dd89ff0}\label{classTCPTestHarness_ac90d80502a3db093e3f1904b0dd89ff0}} 
\index{TCPTestHarness@{TCPTestHarness}!send\_syn@{send\_syn}}
\index{send\_syn@{send\_syn}!TCPTestHarness@{TCPTestHarness}}
\doxysubsubsection{\texorpdfstring{send\_syn()}{send\_syn()}}
{\footnotesize\ttfamily void T\+C\+P\+Test\+Harness\+::send\+\_\+syn (\begin{DoxyParamCaption}\item[{const Wrapping\+Int32}]{seqno,  }\item[{const std\+::optional$<$ Wrapping\+Int32 $>$}]{ackno = {\ttfamily \{\}} }\end{DoxyParamCaption})}



construct a S\+YN segment and inject it into T\+C\+P\+Connection 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em seqno} & is the sequence number of the segment \\
\hline
\mbox{\texttt{ in}}  & {\em ackno} & is the optional acknowledgment number of the segment; if no value, A\+CK flag is not set \\
\hline
\end{DoxyParams}


在文件 tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc 第 108 行定义.



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
tests/tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+hh\item 
tests/tcp\+\_\+fsm\+\_\+test\+\_\+harness.\+cc\end{DoxyCompactItemize}
